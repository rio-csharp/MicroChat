@namespace MicroChat.Client

<div class="settings-overlay" @onclick="HandleOverlayClick">
    <div class="settings-modal" @onclick:stopPropagation="true">
        <div class="settings-header">
            <h2>è®¾ç½®</h2>
            <button class="close-button" @onclick="OnClose" title="å…³é—­">Ã—</button>
        </div>
        
        <div class="settings-content">
            <div class="settings-section">
                <label for="accessKey" class="setting-label">Access Key</label>
                <div class="input-group">
                    <input 
                        id="accessKey" 
                        type="@(ShowAccessKey ? "text" : "password")"
                        class="setting-input" 
                        @bind="AccessKey" 
                        placeholder="è¯·è¾“å…¥ Access Key" 
                    />
                    <button 
                        type="button" 
                        class="toggle-visibility-button" 
                        @onclick="ToggleAccessKeyVisibility"
                        title="@(ShowAccessKey ? "éšè—" : "æ˜¾ç¤º")">
                        @(ShowAccessKey ? "ğŸ‘ï¸" : "ğŸ‘ï¸â€ğŸ—¨ï¸")
                    </button>
                </div>
                <p class="setting-description">è®¿é—®å¯†é’¥ç”¨äºèº«ä»½éªŒè¯ï¼Œå°†åŠ å¯†å­˜å‚¨åœ¨æœ¬åœ°</p>
            </div>

            @if (!string.IsNullOrEmpty(StatusMessage))
            {
                <div class="status-message @StatusClass">@StatusMessage</div>
            }
        </div>
        
        <div class="settings-footer">
            <button class="cancel-button" @onclick="OnClose">å–æ¶ˆ</button>
            <button class="save-button" @onclick="SaveSettings">ä¿å­˜</button>
        </div>
    </div>
</div>
