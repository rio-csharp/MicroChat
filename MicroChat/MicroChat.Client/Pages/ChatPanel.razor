@using MicroChat.Client.Models
@if (Conversation != null)
{
    <div class="chat-panel">
        <h2>@Conversation.Title</h2>
        <div class="chat-messages">
            @foreach(var message in Conversation.Messages)
            {
                <div class="chat-message @(message.Sender == MessageRole.User ? "user-message" : "bot-message")">
                    <div class="message-content">@message.Content</div>
                    <div class="message-time" title="@message.Time.ToString("f", System.Globalization.CultureInfo.CurrentCulture)">
                        @message.Time.ToString("HH:mm")
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{
    <div class="chat-panel-empty">
        <h3>请从左侧选择一个聊天</h3>
    </div>
}

@code {
    [Parameter]
    public Conversation? Conversation { get; set; }
}
